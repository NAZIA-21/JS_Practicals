<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Countdown Timer</title>
</head>
<body>
    <h1>Countdown Timer</h1>

    <form id="timerForm">
        <label for="hours">Hours: </label>
        <input type="number" id="hours" min="0" value="0" required>
        <br><br>

        <label for="minutes">Minutes: </label>
        <input type="number" id="minutes" min="0" max="59" value="0" required>
        <br><br>

        <label for="seconds">Seconds: </label>
        <input type="number" id="seconds" min="0" max="59" value="0" required>
        <br><br>

        <button type="submit">Start Countdown</button>
    </form>

    <p id="output"></p>

    <script>

        let countdownInterval;

        document.getElementById("timerForm").addEventListener("submit", (event) => {
            event.preventDefault();

            //clear existing counter
            if(countdownInterval) clearInterval(countdownInterval);

            const hours = parseInt(document.getElementById("hours").value);
            const minutes = parseInt(document.getElementById("minutes").value);
            const seconds = parseInt(document.getElementById("seconds").value);

            //total coundown time in ms
            const countdownDate = new Date().getTime() + ((hours*3600 + minutes*60 + seconds) * 1000);

            //start
            countdownInterval = setInterval(() => {
                const now = new Date().getTime();
                const timeLeft = countdownDate - now;

                const d = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                const h = Math.floor((timeLeft / (1000 * 60 * 60)) % 24);
                const m = Math.floor((timeLeft / (1000 * 60)) % 60);
                const s = Math.floor((timeLeft / 1000) % 60);

                //display
                document.getElementById("output").innerHTML =  d + "d" + h + "h" + m + "m" + s + "s";

                if(timeLeft <= 0){
                    clearInterval(countdownInterval);
                    document.getElementById("output").innerHTML = "Countdown finished!"
                }
            }, 1000);
        })

    </script>
    
</body>
</html>
